<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>CH Kinetis library for K series: E:/workspace/Git_github/testZone/rtc.h 文件参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CH Kinetis library for K series
   &#160;<span id="projectnumber">V2.5</span>
   </div>
   <div id="projectbrief">Kinetis driver library  for K series</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.10 -->
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>文件列表</span></a></li>
      <li><a href="globals.html"><span>全局定义</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7839475d28e1d4babd69f9d638c0d233.html">testZone</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">结构体</a> &#124;
<a href="#typedef-members">类型定义</a> &#124;
<a href="#enum-members">枚举</a> &#124;
<a href="#func-members">函数</a>  </div>
  <div class="headertitle">
<div class="title">rtc.h 文件参考</div>  </div>
</div><!--header-->
<div class="contents">

<p>www.beyondcore.net <a href="http://upcmcu.taobao.com">http://upcmcu.taobao.com</a>  
<a href="#details">更多...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="common_8h_source.html">common.h</a>&quot;</code><br />
</div>
<p><a href="rtc_8h_source.html">浏览源代码.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
结构体</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC初始化结构  <a href="struct_r_t_c___date_time___type.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_t_c___init_type_def.html">RTC_InitTypeDef</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">OSC 电容负载  <a href="struct_r_t_c___init_type_def.html#details">更多...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
类型定义</h2></td></tr>
<tr class="memitem:abd5529150f07b298e1af8095886bdd42"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#abd5529150f07b298e1af8095886bdd42">RTC_CallBackType</a>) (void)</td></tr>
<tr class="memdesc:abd5529150f07b298e1af8095886bdd42"><td class="mdescLeft">&#160;</td><td class="mdescRight">API functions.  <a href="#abd5529150f07b298e1af8095886bdd42">更多...</a><br /></td></tr>
<tr class="separator:abd5529150f07b298e1af8095886bdd42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
枚举</h2></td></tr>
<tr class="memitem:a458281a9025134fbdbf90d1868854e0f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0f">RTC_OscLoad_Type</a> { <br />
&#160;&#160;<a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0fab4f75fae74c5ae2a186bd522f5486dd4">kRTC_OScLoad_0PF</a>, 
<a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0fa4168abc34e197e037426dabcd0fdda45">kRTC_OScLoad_2PF</a>, 
<a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0fa383c832813c4fc585060fbda4916e9a7">kRTC_OScLoad_4PF</a>, 
<a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0fa5f4b2b1aa976281cfd3e2f1073b2be58">kRTC_OScLoad_8PF</a>, 
<br />
&#160;&#160;<a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0fabbc4dc86ed942788dd9eeaca4c5ee4c7">kRTC_OScLoad_16PF</a>
<br />
 }<tr class="memdesc:a458281a9025134fbdbf90d1868854e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC内置电容补偿  <a href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0f">更多...</a><br /></td></tr>
<tr class="separator:a458281a9025134fbdbf90d1868854e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
<tr class="memitem:a92307d03f065927ecbe577d96025af61"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61">RTC_ITDMAConfig_Type</a> { <a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61af86432519a378f208431ec430a696adb">kRTC_IT_TimeAlarm</a>, 
<a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61a4809cbada7f49017d095fe157b4ef928">kRTC_IT_TimeOverflow</a>
 }<tr class="memdesc:a92307d03f065927ecbe577d96025af61"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC interrupt and DMA select.  <a href="rtc_8h.html#a92307d03f065927ecbe577d96025af61">更多...</a><br /></td></tr>
<tr class="separator:a92307d03f065927ecbe577d96025af61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
函数</h2></td></tr>
<tr class="memitem:a0f2e25987149a5766e0908a34e41d0f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a0f2e25987149a5766e0908a34e41d0f4">RTC_QuickInit</a> (void)</td></tr>
<tr class="memdesc:a0f2e25987149a5766e0908a34e41d0f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC模块快速初始化配置，设定内部电容为8pF.  <a href="#a0f2e25987149a5766e0908a34e41d0f4">更多...</a><br /></td></tr>
<tr class="separator:a0f2e25987149a5766e0908a34e41d0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e388cc670748b2f7f9b1427eb29113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a48e388cc670748b2f7f9b1427eb29113">RTC_GetDateTime</a> (<a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *datetime)</td></tr>
<tr class="memdesc:a48e388cc670748b2f7f9b1427eb29113"><td class="mdescLeft">&#160;</td><td class="mdescRight">获得RTC的时间  <a href="#a48e388cc670748b2f7f9b1427eb29113">更多...</a><br /></td></tr>
<tr class="separator:a48e388cc670748b2f7f9b1427eb29113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba9fbfac547a868112f3bd726439f61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a3ba9fbfac547a868112f3bd726439f61">RTC_SetDateTime</a> (<a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *datetime)</td></tr>
<tr class="memdesc:a3ba9fbfac547a868112f3bd726439f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置RTC的时间  <a href="#a3ba9fbfac547a868112f3bd726439f61">更多...</a><br /></td></tr>
<tr class="separator:a3ba9fbfac547a868112f3bd726439f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40ae2572ca2383ef06c36beef625479"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#ab40ae2572ca2383ef06c36beef625479">RTC_ITDMAConfig</a> (<a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61">RTC_ITDMAConfig_Type</a> config, bool status)</td></tr>
<tr class="memdesc:ab40ae2572ca2383ef06c36beef625479"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置RTC中断功能  <a href="#ab40ae2572ca2383ef06c36beef625479">更多...</a><br /></td></tr>
<tr class="separator:ab40ae2572ca2383ef06c36beef625479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6966685fa28c050b66f5d519611055"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a2f6966685fa28c050b66f5d519611055">RTC_IsTimeValid</a> (void)</td></tr>
<tr class="memdesc:a2f6966685fa28c050b66f5d519611055"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断当前RTC时钟模块时间是否有效  <a href="#a2f6966685fa28c050b66f5d519611055">更多...</a><br /></td></tr>
<tr class="separator:a2f6966685fa28c050b66f5d519611055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2907938f4a07d731fcc2b31772882a21"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a2907938f4a07d731fcc2b31772882a21">RTC_CallbackInstall</a> (<a class="el" href="rtc_8h.html#abd5529150f07b298e1af8095886bdd42">RTC_CallBackType</a> AppCBFun)</td></tr>
<tr class="memdesc:a2907938f4a07d731fcc2b31772882a21"><td class="mdescLeft">&#160;</td><td class="mdescRight">注册中断回调函数  <a href="#a2907938f4a07d731fcc2b31772882a21">更多...</a><br /></td></tr>
<tr class="separator:a2907938f4a07d731fcc2b31772882a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce3baabe19d07a3fc6ca06edfc64045"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a5ce3baabe19d07a3fc6ca06edfc64045">RTC_Init</a> (<a class="el" href="struct_r_t_c___init_type_def.html">RTC_InitTypeDef</a> *RTC_InitStruct)</td></tr>
<tr class="memdesc:a5ce3baabe19d07a3fc6ca06edfc64045"><td class="mdescLeft">&#160;</td><td class="mdescRight">RTC模块初始化配置，用来配置内部的电容参数  <a href="#a5ce3baabe19d07a3fc6ca06edfc64045">更多...</a><br /></td></tr>
<tr class="separator:a5ce3baabe19d07a3fc6ca06edfc64045"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79760d221e75d682b381bd7fc5e5cdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#ac79760d221e75d682b381bd7fc5e5cdb">RTC_GetWeekFromYMD</a> (int year, int month, int days)</td></tr>
<tr class="memdesc:ac79760d221e75d682b381bd7fc5e5cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">由年月日计算出周数  <a href="#ac79760d221e75d682b381bd7fc5e5cdb">更多...</a><br /></td></tr>
<tr class="separator:ac79760d221e75d682b381bd7fc5e5cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55bf4b4faeb7cdf6a439755030657d19"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a55bf4b4faeb7cdf6a439755030657d19">RTC_GetTSR</a> (void)</td></tr>
<tr class="memdesc:a55bf4b4faeb7cdf6a439755030657d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">获得TSR值  <a href="#a55bf4b4faeb7cdf6a439755030657d19">更多...</a><br /></td></tr>
<tr class="separator:a55bf4b4faeb7cdf6a439755030657d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2990d6de1d5f4f0fbd424a7ff7db1c0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a2990d6de1d5f4f0fbd424a7ff7db1c0c">RTC_SetTSR</a> (uint32_t val)</td></tr>
<tr class="memdesc:a2990d6de1d5f4f0fbd424a7ff7db1c0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置RTC的Time Seconds Register  <a href="#a2990d6de1d5f4f0fbd424a7ff7db1c0c">更多...</a><br /></td></tr>
<tr class="separator:a2990d6de1d5f4f0fbd424a7ff7db1c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e606742e83a253f4dc1f48e1731dd47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a3e606742e83a253f4dc1f48e1731dd47">RTC_SetAlarm</a> (<a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *datetime)</td></tr>
<tr class="memdesc:a3e606742e83a253f4dc1f48e1731dd47"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置闹钟时间  <a href="#a3e606742e83a253f4dc1f48e1731dd47">更多...</a><br /></td></tr>
<tr class="separator:a3e606742e83a253f4dc1f48e1731dd47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866ad8e1eabe3168a66d9be0eb82697f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtc_8h.html#a866ad8e1eabe3168a66d9be0eb82697f">RTC_SetCompensation</a> (uint32_t compensationInterval, uint32_t timeCompensation)</td></tr>
<tr class="memdesc:a866ad8e1eabe3168a66d9be0eb82697f"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置RTC补偿寄存器  <a href="#a866ad8e1eabe3168a66d9be0eb82697f">更多...</a><br /></td></tr>
<tr class="separator:a866ad8e1eabe3168a66d9be0eb82697f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p>www.beyondcore.net <a href="http://upcmcu.taobao.com">http://upcmcu.taobao.com</a> </p>
<dl class="section author"><dt>作者</dt><dd>YANDLD </dd></dl>
<dl class="section version"><dt>版本</dt><dd>V2.5 </dd></dl>
<dl class="section date"><dt>日期</dt><dd>2014.3.26 </dd></dl>

<p>在文件 <a class="el" href="rtc_8h_source.html">rtc.h</a> 中定义.</p>
</div><h2 class="groupheader">类型定义说明</h2>
<a class="anchor" id="abd5529150f07b298e1af8095886bdd42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* RTC_CallBackType) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API functions. </p>

<p>在文件 <a class="el" href="rtc_8h_source.html">rtc.h</a> 第 <a class="el" href="rtc_8h_source.html#l00063">63</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">枚举类型说明</h2>
<a class="anchor" id="a92307d03f065927ecbe577d96025af61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61">RTC_ITDMAConfig_Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC interrupt and DMA select. </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a class="anchor" id="a92307d03f065927ecbe577d96025af61af86432519a378f208431ec430a696adb"></a>kRTC_IT_TimeAlarm&#160;</td><td class="fielddoc">
<p>开启闹钟中断 </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a92307d03f065927ecbe577d96025af61a4809cbada7f49017d095fe157b4ef928"></a>kRTC_IT_TimeOverflow&#160;</td><td class="fielddoc">
<p>开启时间溢出中断 </p>
</td></tr>
</table>

<p>在文件 <a class="el" href="rtc_8h_source.html">rtc.h</a> 第 <a class="el" href="rtc_8h_source.html#l00056">56</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a458281a9025134fbdbf90d1868854e0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rtc_8h.html#a458281a9025134fbdbf90d1868854e0f">RTC_OscLoad_Type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC内置电容补偿 </p>
<table class="fieldtable">
<tr><th colspan="2">枚举值</th></tr><tr><td class="fieldname"><a class="anchor" id="a458281a9025134fbdbf90d1868854e0fab4f75fae74c5ae2a186bd522f5486dd4"></a>kRTC_OScLoad_0PF&#160;</td><td class="fielddoc">
<p>Oscillator 0pF Load </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a458281a9025134fbdbf90d1868854e0fa4168abc34e197e037426dabcd0fdda45"></a>kRTC_OScLoad_2PF&#160;</td><td class="fielddoc">
<p>Oscillator 2pF Load </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a458281a9025134fbdbf90d1868854e0fa383c832813c4fc585060fbda4916e9a7"></a>kRTC_OScLoad_4PF&#160;</td><td class="fielddoc">
<p>Oscillator 4pF Load </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a458281a9025134fbdbf90d1868854e0fa5f4b2b1aa976281cfd3e2f1073b2be58"></a>kRTC_OScLoad_8PF&#160;</td><td class="fielddoc">
<p>Oscillator 8pF Load </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a458281a9025134fbdbf90d1868854e0fabbc4dc86ed942788dd9eeaca4c5ee4c7"></a>kRTC_OScLoad_16PF&#160;</td><td class="fielddoc">
<p>Oscillator 16pF Load </p>
</td></tr>
</table>

<p>在文件 <a class="el" href="rtc_8h_source.html">rtc.h</a> 第 <a class="el" href="rtc_8h_source.html#l00034">34</a> 行定义.</p>

</div>
</div>
<h2 class="groupheader">函数说明</h2>
<a class="anchor" id="a2907938f4a07d731fcc2b31772882a21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_CallbackInstall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtc_8h.html#abd5529150f07b298e1af8095886bdd42">RTC_CallBackType</a>&#160;</td>
          <td class="paramname"><em>AppCBFun</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>注册中断回调函数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">AppCBFun</td><td>回调函数指针入口 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>注解</dt><dd>对于此函数的具体应用请查阅应用实例 </dd></dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00384">384</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a48e388cc670748b2f7f9b1427eb29113"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_GetDateTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *&#160;</td>
          <td class="paramname"><em>datetime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获得RTC的时间 </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;//获得RTC的时间</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;RTC_DateTime_Type ts;    //申请一个结构体</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;RTC_GetDateTime(&amp;ts);    //将日期存储到ts中</div>
</div><!-- fragment --> <dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">datetime</td><td>返回出来的年月日等信息结构体 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00165">165</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a55bf4b4faeb7cdf6a439755030657d19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t RTC_GetTSR </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获得TSR值 </p>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>unvalid </td></tr>
    <tr><td class="paramname">!0</td><td>valid </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00294">294</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ac79760d221e75d682b381bd7fc5e5cdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RTC_GetWeekFromYMD </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>days</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>由年月日计算出周数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">year</td><td>年 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">month</td><td>月 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">days</td><td>日 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">返回计算出来的周期数</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00048">48</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a5ce3baabe19d07a3fc6ca06edfc64045"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_t_c___init_type_def.html">RTC_InitTypeDef</a> *&#160;</td>
          <td class="paramname"><em>RTC_InitStruct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC模块初始化配置，用来配置内部的电容参数 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">RTC_InitStruct</td><td>指向RTC初始化结构体指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00249">249</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a2f6966685fa28c050b66f5d519611055"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t RTC_IsTimeValid </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>判断当前RTC时钟模块时间是否有效 </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;//当时间无效（从来未执行过RTC时，初始化RTC的时间）</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(RTC_IsTimeValid())</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;{</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   printf(&quot;time invalid, reset time!\r\n&quot;);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   RTC_SetDateTime(&amp;td);</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div>
</div><!-- fragment --> <dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>有效 </td></tr>
    <tr><td class="paramname">!0</td><td>无效 </td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00188">188</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="ab40ae2572ca2383ef06c36beef625479"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_ITDMAConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rtc_8h.html#a92307d03f065927ecbe577d96025af61">RTC_ITDMAConfig_Type</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置RTC中断功能 </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;//设置RTC开启闹钟中断</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;RTC_ITDMAConfig(kRTC_IT_TimeAlarm, true); </div>
</div><!-- fragment --> <dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>配置中断类型 <ul>
<li>kRTC_IT_TimeAlarm 闹钟中断 </li>
<li>kRTC_IT_TimeOverflow 时间溢出中断 </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">status</td><td>是否使能RTC中断 <ul>
<li>0 关闭中断 </li>
<li>1 打开中断 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00354">354</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a0f2e25987149a5766e0908a34e41d0f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_QuickInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RTC模块快速初始化配置，设定内部电容为8pF. </p>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00034">34</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a3e606742e83a253f4dc1f48e1731dd47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_SetAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *&#160;</td>
          <td class="paramname"><em>datetime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置闹钟时间 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datetime</td><td>时间戳结构体 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00202">202</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a866ad8e1eabe3168a66d9be0eb82697f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_SetCompensation </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>compensationInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeCompensation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置RTC补偿寄存器 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">compensationInterval</td><td>Configures the compensation interval in seconds from 1 to 256 to control how frequently the TCR should adjust the number of 32.768 kHz cycles in each second. The value written should be one less than the number of seconds (for example, write zero to configure for a compensation interval of one second). This register is double buffered and writes do not take affect until the end of the current compensation interval. </td></tr>
    <tr><td class="paramname">timeCompensation</td><td>Configures the number of 32.768 kHz clock cycles in each second. This register is double buffered and writes do not take affect until the end of the current compensation interval.<br />
 <br />
 80h Time prescaler register overflows every 32896 clock cycles.<br />
 ... ...<br />
 FFh Time prescaler register overflows every 32769 clock cycles.<br />
 00h Time prescaler register overflows every 32768 clock cycles.<br />
 01h Time prescaler register overflows every 32767 clock cycles.<br />
 ... ...<br />
 7Fh Time prescaler register overflows every 32641 clock cycles.<br />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00236">236</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a3ba9fbfac547a868112f3bd726439f61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_SetDateTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_t_c___date_time___type.html">RTC_DateTime_Type</a> *&#160;</td>
          <td class="paramname"><em>datetime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置RTC的时间 </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">datetime</td><td>指向时间的结构体指针 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00314">314</a> 行定义.</p>

</div>
</div>
<a class="anchor" id="a2990d6de1d5f4f0fbd424a7ff7db1c0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTC_SetTSR </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置RTC的Time Seconds Register </p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>time second vlaue </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>返回值</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>在文件 <a class="el" href="rtc_8c_source.html">rtc.c</a> 第 <a class="el" href="rtc_8c_source.html#l00333">333</a> 行定义.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者 &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
